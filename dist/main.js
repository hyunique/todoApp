(()=>{"use strict";const e=[];class t{constructor(e,t,n=!1,i=`P${(Date.now()+"").slice(-6)}`){this.name=e,this.task=[],this.active=n,this.id=i}}function n(){event.target.classList.add("active"),e.find((e=>e.name===event.target.textContent)).active=!0}function i(n){e.push(new t(c(n)))}function c(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function s(){const t=[...document.querySelectorAll(".project--item")].find((e=>e.classList.contains("active"))),n=e.find((e=>e.name===t.textContent)).task;return{element:t,data:n}}function a(e){return e.slice(0,1).toUpperCase()+e.slice(1)}function l(e){"Enter"===e.key&&(i(this.value),o(this.value),this.value="")}function o(e){const t=document.querySelector(".project--list");let n=`<li class="project--item">${a(e)}</li>`;t.insertAdjacentHTML("beforeend",n)}function r(e){"Enter"===e.key&&(function(e){let t=new h(`${c(e)}`);s().data.push(t),d(t)}(this.value),this.value="")}function d(e){const t=document.querySelector(".task--list");let n=`\n    <li class="task--item" id="${e.id}">\n    <input type="checkbox" class="checkbox" ${e.finished?"checked":"!checked"}>\n    <span class="checkmark"></span>\n    <h3 class="task--title ${e.finished?"task--checked":""}">${a(e.title)}</h3>\n    <div class="icons">\n    <i class="material-symbols-outlined btn-delete">delete</i>\n    </div>\n    </li>\n    `;t.insertAdjacentHTML("beforeend",n),function(){const e=document.querySelectorAll(".btn-delete"),t=document.querySelectorAll(".task--item");e.forEach((e=>e.addEventListener("click",f))),t.forEach((e=>e.addEventListener("click",u)))}()}function u(e){if(e.target.matches(".task--title")||e.target.matches(".checkmark")){const t=this.firstElementChild;this.lastElementChild.previousElementSibling.classList.toggle("task--checked"),t.checked=!t.checked,function(e){let t=s().data.find((t=>t.id===e.target.parentElement.id));t.finished=!t.finished}(e)}}class h{constructor(e,t=`T${(Date.now()+"").slice(-6)}`,n=!1){this.title=e,this.id=t,this.finished=n}}function f(){let e=this.parentNode.parentNode;e.parentElement.removeChild(e);let t=s().data.find((t=>t.id===e.id));s().data.pop(t)}!function(){const t=document.querySelector(".project--list"),c=document.querySelector(".project--input"),a=document.querySelector(".task--input");i("General"),o("General"),t.firstElementChild.classList.add("active"),e.find((e=>"General"===e.name)).active=!0,t.addEventListener("click",(i=>{if(i.target.matches(".project--item")){const i=t.querySelector(".project--item.active");i&&(i.classList.remove("active"),document.querySelector(".task--list").textContent="",e.forEach((e=>e.active=!1))),n(),s().data.forEach((e=>{d(e)}))}})),c.addEventListener("keydown",l),a.addEventListener("keydown",r)}()})();